<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Submission</title>
<style>
    * {
        font-family: Poppins, sans-serif;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    body {
        background-color: #f4f4f4;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        padding: 10px;
    }
    form {
        display: flex;
        flex-direction: column;
        align-items: center;
        background-color: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        width: 100%;
        max-width: 600px;
    }
    form h1 {
        margin-bottom: 20px;
        font-size: 24px;
        color: #663ab5;
        text-align: center;
    }
    .form-group {
        width: 100%;
        margin-bottom: 15px;
    }
    label {
        font-size: 14px;
        font-weight: bold;
        margin-bottom: 5px;
        display: block;
    }
    input[type="text"],
    input[type="email"],
    input[type="number"],
    input[type="date"],
    input[type="file"],
    textarea,
    select {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 14px;
    }
    input[type="text"]:focus,
    input[type="email"]:focus,
    input[type="number"]:focus,
    input[type="date"]:focus,
    input[type="file"]:focus,
    textarea:focus,
    select:focus {
        border-color: #663ab5;
        outline: none;
    }
    button {
        background-color: #663ab5;
        color: white;
        padding: 12px 20px;
        border: none;
        border-radius: 4px;
        font-size: 16px;
        cursor: pointer;
        width: 100%;
        margin-top: 10px;
    }
    button:hover {
        background-color: #452286;
        transition: background-color 0.2s;
    }
    .notification {
        display: none;
        position: fixed;
        top: 20px;
        right: 20px;
        background-color: #4caf50;
        color: white;
        padding: 15px;
        border-radius: 5px;
        z-index: 1000;
    }
    .notification.error {
        background-color: #f44336;
    }
    .gender-options {
        display: flex;
        gap: 15px; /* Adjust the spacing between options */
    }
    .gender-options label {
        margin-top: 10px;
        margin-right: 10px; /* Optional: space between labels */
    }
    .close-btn {
        background: none;
        border: none;
        color: white;
        font-size: 16px;
        margin-left: 10px;
        cursor: pointer;
    }
    @media screen and (max-width: 768px) {
        form {
            width: 90%;
        }
    }
    @media screen and (max-width: 480px) {
        form h1 {
            font-size: 20px;
        }
        input[type="text"],
        input[type="email"],
        input[type="number"],
        input[type="file"],
        textarea,
        select {
            padding: 8px;
            font-size: 12px;
        }
        button {
            padding: 10px 16px;
            font-size: 14px;
        }
    }
</style>
</head>
<body>
    <form id="resumeForm" enctype="multipart/form-data" method="POST">
        <h1>Resume Submission Form</h1>

        <div class="form-group">
            <label for="full_name">Full Name:<span style="color: red;">*</span></label>
            <input type="text" name="full_name" id="full_name" required />
        </div>

        <div class="form-group">
            <label for="email">Email Id:<span style="color: red;">*</span></label>
            <input type="email" name="email" id="email" required />
        </div>

        <div class="form-group">
            <label for="phone">Phone Number:<span style="color: red;">*</span></label>
            <input type="number" name="phone" id="phone" required />
        </div>

        <div class="form-group">
            <label for="dob">Date of Birth:<span style="color: red;">*</span></label>
            <input type="date" name="dob" id="dob" required />
        </div>
        
        <div class="form-group">
            <label>Gender <span style="color: red;">*</span></label>
            <div class="gender-options">
                <label><input type="radio" name="gender" value="Male" required /> Male</label>
                <label><input type="radio" name="gender" value="Female" required /> Female</label>
                <label><input type="radio" name="gender" value="Other" required /> Other</label>
            </div>
        </div>

        <div class="form-group">
            <label for="college">College/University Name:<span style="color: red;">*</span></label>
            <input type="text" name="college" id="college" required />
        </div>

        <div class="form-group">
            <label for="qualification">Degree:<span style="color: red;">*</span></label>
            <select name="qualification" id="qualification" required>
                <option value="" disabled selected>Select your Degree</option>
                <option value="BE/BTech">BE/BTech</option>
                <option value="ME/MTech">ME/MTech</option>
                <option value="MCA">MCA</option>
                <option value="BCA">BCA</option>
                <option value="BSc">BSc</option>
                <option value="BCom">BCom</option>
                <option value="MCom">MCom</option>
                <option value="MBA">MBA</option>
                <option value="Other">Other</option>
            </select>
        </div>

        <div class="form-group">
            <label for="department">Department:<span style="color: red;">*</span></label>
            <select id="department" name="department" required>
                <!-- Options will be populated based on qualification selection -->
            </select>
            <input type="text" id="customDepartment" name="customDepartment" placeholder="Please specify your department" style="display: none;" />
        </div>

        <div class="form-group">
            <label for="year_passed_out">Year of Passed Out:<span style="color: red;">*</span></label>
            <input type="number" name="year_passed_out" id="year_passed_out" required />
        </div>

        <div class="form-group">
            <label for="domain_of_interest">Domain of Interest:<span style="color: red;">*</span></label>
            <select name="domain_of_interest" id="domain_of_interest" required>
                <option value="" disabled selected>Select your domain</option>
                <option value="Web Development">Web Development</option>
                <option value="Frontend Development">Frontend Development</option>
                <option value="Backend Development">Backend Development</option>
                <option value="AI/ML">AI/ML</option>
                <option value="Data Analysis">Data Analysis</option>
                <option value="Game Design">Game Design</option>
                <option value="Project Management">Project Management</option>
                <option value="System Engineering">System Engineering</option>
                <option value="Testing">Testing</option>
                <option value="Python">Python</option>
                <option value="Software Development">Software Development</option>
                <option value="Data Science">Data Science</option>
                <option value="Networking">Networking</option>
                <option value="Cybersecurity">Cybersecurity</option>
                <option value="UI/UX Design">UI/UX Design</option>
                <option value="Cloud Computing">Cloud Computing</option>
                <option value="Mobile Development">Mobile Development</option>
                <option value="Game Development">Game Development</option>
                <option value="DevOps">DevOps</option>
                <option value="Artificial Intelligence">Artificial Intelligence</option>
                <option value="Machine Learning">Machine Learning</option>
                <option value="Big Data">Big Data</option>
                <option value="Business Analysis">Business Analysis</option>
                <option value="Digital Marketing">Digital Marketing</option>
                <option value="Quality Assurance">Quality Assurance</option>
                <option value="Technical Writing">Technical Writing</option>
                <option value="Product Management">Product Management</option>
            </select>
        </div>

        <div class="form-group">
            <label for="skills">Skills:<span style="color: red;">*</span></label>
            <textarea name="skills" id="skills" rows="4" required></textarea>
        </div>

        <div class="form-group">
            <label for="experience">Years of Experience:</label>
            <input type="number" name="experience" id="experience" />
        </div>

        <div class="form-group">
            <label for="company">Previous Company Name:</label>
            <input type="text" name="company" id="company" />
        </div>

        <div class="form-group">
            <label for="resume">Upload Resume:<span style="color: red;">*</span></label>
            <input type="file" name="resume" id="resume" accept=".pdf,.doc,.docx" required />
        </div>

        <button type="submit">Submit</button>
    </form>

    <div class="notification" id="notification">
        <span id="notificationMessage"></span>
        <button class="close-btn" id="closeNotification">X</button>
    </div>

    <script>
        // Handle form submission
        const form = document.getElementById('resumeForm');
        const notification = document.getElementById('notification');
        const notificationMessage = document.getElementById('notificationMessage');
        const closeNotification = document.getElementById('closeNotification');
    
        form.addEventListener('submit', async (event) => {
            event.preventDefault();
            const formData = new FormData(form);
    
            try {
                // Update the URL to point to your FastAPI endpoint
                const response = await fetch('http://127.0.0.1:8000/submit', {
                    method: 'POST',
                    body: formData,
                });
    
                // Check if the response is OK
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
    
                const result = await response.json();
    
                // Display success or error message based on the result
                if (result.success) {
                    displayNotification('Resume submitted successfully!', '#4caf50'); // Success
                } else {
                    displayNotification(result.message, '#f44336'); // Error
                }
    
                form.reset(); // Reset the form after submission
            } catch (error) {
                displayNotification('An error occurred. Please try again.', '#f44336'); // Error
            }
        });
    
        closeNotification.addEventListener('click', () => {
            notification.style.display = 'none';
        });
    
        // Function to display notifications
        function displayNotification(message, backgroundColor) {
            notificationMessage.innerText = message;
            notification.style.backgroundColor = backgroundColor;
            notification.style.display = 'block';
        }
    
        // Department options based on qualification
        const departmentSelect = document.getElementById('department');
        const qualificationSelect = document.getElementById('qualification');
        const customDepartmentInput = document.getElementById('customDepartment');
    
        const departmentOptions = {
            "BE/BTech": [
                "Computer Science and engineering",
                "Mechanical Engineering",
                "Civil Engineering",
                "CSE – Artificial Intelligence and Machine Learning",
                "Information Technology",
                "Textile Technology",
                "Bio-Technology",
                "Food Technology",
                "Artificial Intelligence and Data Science",
                "Computer Science and Business Systems",
                "Electronics Engineering (VLSI Design and Technology)",
            ],
            "ME/MTech": [
                "Engineering Design",
                "Power Systems Engineering",
                "VLSI Design",
                "Computer Science and Engineering",
                "Industrial Safety Engineering",
                "Structural Engineering",
                "Bio-Technology",
                "Nano Science and Technology",
                "Data Science",
                "Food Technology",
                "Textile Technology",
            ],
            "MBA": [
                "Master of Business Administration",
            ],
            "MCA": ["Computer Applications"],
            "BCA": ["Computer Applications"],
            "BSc": ["Physics", "Chemistry", "Mathematics", "Biology"],
            "BCom": ["Commerce", "Accounting"],
            "MCom": ["Commerce", "Accounting"],
        };
    
        qualificationSelect.addEventListener('change', () => {
            const selectedQualification = qualificationSelect.value;
            updateDepartmentOptions(selectedQualification);
        });
    
        // Function to update department options based on selected qualification
        function updateDepartmentOptions(selectedQualification) {
            departmentSelect.innerHTML = ''; // Clear previous options
            customDepartmentInput.style.display = 'none'; // Hide custom department input
    
            if (departmentOptions[selectedQualification]) {
                departmentOptions[selectedQualification].forEach(department => {
                    const option = document.createElement('option');
                    option.value = department;
                    option.textContent = department;
                    departmentSelect.appendChild(option);
                });
            } else {
                customDepartmentInput.style.display = 'block'; // Show custom department input
                customDepartmentInput.value = ''; // Clear the input
            }
        }
    </script>
</body>
</html>
